<!DOCTYPE html>
<!-- looks are borrowed from tumbler, i don't use the service, but it looks good -->
<html>
<head>
	<title>Time Is Money</title>
	<style type="text/css">
		input
		{
			border: 3px solid orange;
			height: 50px;
			border-radius: 15px;
			-moz-border-radius: 15px;
			font-size: 30px;
			color: grey;
			outline: none;
			text-align: center;
		}

		input:focus
		{
			border: 3px solid yellow;
			color: black;
		}

		input[type=button]
		{
			cursor: pointer;
		}

		input[type=button]:hover
		{
			cursor: pointer;
			border: 3px solid darkblue;
			background-color: orange;
			color: black;
		}

		#elapsed
		{
			font-size: 50px;
			color: #243748;
			text-shadow: 0 1px 1px rgba(255, 255, 255, 0.33);
		}

		#tim
		{
			font-size: 100px;
			font-weight: bolder;
			text-shadow: 0 1px 4px rgba(0, 0, 0, 0.68);
			color: white;
		}

		#footer
		{
			font-family: Arial,'Helvetica Neue',Helvetica,sans-serif;
			position: fixed;
			right: 5px;
			bottom: 5px;
			font-size: 10px;
			color: #113;
		}
		
		#logo
		{
			font-size: 30px;
			color: orange;
		}
		
		#desc
		{
			color: white;
			font-size: 14px;
		}
		
		#info
		{
			color: white;
			font-size: 40px;
			font-weight: bolder;
			position: fixed;
			left: 10px;
			top: 0px;
			text-shadow: 0 1px 4px rgba(0, 0, 0, 0.68);
		}
		
		#info:hover
		{
			color: orange;
			cursor: pointer;
		}
		
		#infobox
		{
			position: fixed;
			left: 50px;
			top: 5px;
			border: 1px solid #fff;
			width: 300px;
			height: 100px;
			padding: 6px;
			border-radius: 15px;
			-moz-border-radius: 15px;
			background-color: rgba(255,255,255,0.2);
			text-shadow: 0 1px 4px rgba(0, 0, 0, 0.68);
			cursor: pointer;
			display: none;
		}
		
		#like
		{
			position: fixed;
			top: 5px;
			right: 5px;
		}
		
		.iconed
		{
			position: relative;
			display: inline-block;
			margin-right: 10px;
		}
		
		.icon
		{
			position: absolute;
			width: 36px;
			height: 36px;
			left: 10px;
			top: 11px;
		}
		
		#icon_employee
		{
			background: url('graphs.png') no-repeat scroll 0px 0px;
		}
		
		#icon_salary
		{
			background: url('graphs.png') no-repeat scroll -36px 0px;
		}
		
		body
		{
			margin: 0;
			padding: 0;
			border: 0;
			height: 100%;
			background: #3C5A76 url('status_bg.png') no-repeat center;
		}

		html
		{
			height: 100%;
			-webkit-font-smoothing: antialiased;
		}
	</style>
	<script type="text/javascript" src="jquery-1.5.1.min.js"></script>
</head>
<body>
	<div id="info">?</div>
	<div id="infobox">
		<div id="logo">TIM: Time Is Money.</div>
		<div id="desc">See how costly your meetings are... And keep them short for God's sake!</div>
	</div>
	
	<div id="like">
		<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fengin.bzzzt.biz%2Ffiles%2Ftim.html&amp;layout=button_count&amp;show_faces=true&amp;width=450&amp;action=like&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:80px; height:21px;" allowTransparency="true"></iframe>
	</div>
	<table width="100%" height="100%">
		<tbody>
			<tr>
				<td align="center" valign="middle">
					<div id="tim"></div>
					<div id="elapsed"></div>
					<span class="iconed">
						<input id="n" size="20" maxlength="3" default="# of employees">
						<div id="icon_employee" class="icon"></div>
					</span>
					<span class="iconed">
						<input id="s" size="20" maxlength="5" default="avg hourly salary">
						<div id="icon_salary" class="icon"></div>
					</span>
					<input id="b" type="button" value="start">
				</td>
			</tr>
		</tbody>
	</table>
	<div id="footer">Best viewed with Chrome</div>
</body>
<script type="text/javascript">
var g_start = false;
var g_startTime = false;

$('#n, #s').focus(
	function()
	{
		if(!isNaN(parseInt($(this).val()))) return;
		$(this).val("");
	}
);

$('#n, #s').blur(
	function()
	{
		if(isNaN(parseInt($(this).val())))
			$(this).val($(this).attr('default'));
	}
);

$('#s').keyup(
	function(e)
	{
		if(e.keyCode == 13)
			$('#b').click();
	}
);

$('#b').click(
	function()
	{
		if(!g_start)
		{
			$(this).val('stop');
			g_start = true;
			var d = new Date();
			g_startTime = d.getTime();
		}
		else
		{
			$(this).val('start');
			g_start = false;
		}
	}
);

$('#info, #infobox').click(
	function()
	{
		$('#infobox').toggle('fast');
	}
);

$('#icon_calc').click(
	function()
	{
		$('#calc').toggle('blind');
	}
);

$(document).ready(
	function()
	{
		$('#n, #s').blur();
		$('#b').click();
		tim();
		$('#b').click();
		setInterval(tim, 100 );
	}
);

function tim()
{
	if(!g_start) return;
	var d = new Date();
	var elapsed = d.getTime() - g_startTime;

	var n = parseInt($('#n').val());
	var s = parseInt($('#s').val());
	if(isNaN(n)) n = 0;
	if(isNaN(s)) s = 0;
	
	var c = 0;
	if(n != 0 && s != 0)
		c = elapsed / (1000.0 * 60 * 60) * n * s;
	
	var days = Math.floor(elapsed / (1000 * 60 * 60 * 24)); // oh come on!
	var hours = Math.floor((elapsed / (1000 * 60 * 60))) % 24;
	var minutes = Math.floor((elapsed / (1000 * 60)) % 60);
	var seconds = Math.floor((elapsed / 1000) % 60);
	
	var elapsedStr = "";
	if(hours != 0)
	{
		elapsedStr = hours + 'h ';
		if(minutes != 0)
			elapsedStr += minutes + 'm';
	}
	else if(minutes != 0)
	{
		elapsedStr = minutes + 'm ';
		if(seconds != 0)
			elapsedStr += seconds + 's';
	}
	else
	{
		elapsedStr = seconds + 's ';
	}

	$('#elapsed').html(elapsedStr);
	
	c = c.toString();
	var i = c.indexOf('.');
	c = c.substr(0, i + 3);
	$('#tim').html('$ ' + c);
}
</script>

<script type="text/javascript"> 
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script> 

<script type="text/javascript"> 
try {
	var pageTracker = _gat._getTracker("UA-12273926-1");
	pageTracker._trackPageview();
} catch(err) {}
</script>

</html>